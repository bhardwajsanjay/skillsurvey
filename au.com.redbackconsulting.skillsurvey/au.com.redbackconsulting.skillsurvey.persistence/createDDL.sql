CREATE TABLE LEVEL (IDLEVEL BIGINT AUTO_INCREMENT NOT NULL, CODE VARCHAR(255), DESCRIPTION VARCHAR(255), PRIMARY KEY (IDLEVEL))
CREATE TABLE UOC (IDUOC BIGINT NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255), TYPE VARCHAR(255), PRIMARY KEY (IDUOC))
CREATE TABLE QUESTION (IDQUESTION BIGINT NOT NULL, STYLE VARCHAR(255), TEXT VARCHAR(255), PRIMARY KEY (IDQUESTION))
CREATE TABLE ROLE (IDROLE BIGINT NOT NULL, DESCRIPTION VARCHAR(255), IDNAME VARCHAR(255), NAME VARCHAR(255), PRIMARY KEY (IDROLE))
CREATE TABLE functiontable (IDFUNCTION BIGINT NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255), PRIMARY KEY (IDFUNCTION))
CREATE TABLE CLAIM (IDCLAIM BIGINT NOT NULL, CODE VARCHAR(255), PRIMARY KEY (IDCLAIM))
CREATE TABLE OCCUPATION (IDOCCUPATION BIGINT NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255), PRIMARY KEY (IDOCCUPATION))
CREATE TABLE DEPARTMENT (IDDEPARTMENT BIGINT NOT NULL, CODE VARCHAR(255), DESCRIPTION VARCHAR(255), NAME VARCHAR(255), PRIMARY KEY (IDDEPARTMENT))
CREATE TABLE roleassignment (individualid BIGINT NOT NULL, roleid BIGINT NOT NULL, PRIMARY KEY (individualid, roleid))
CREATE TABLE PATHWAY (IDPATHWAY BIGINT NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255), SELECTABLE TINYINT(1) default 0, PRIMARY KEY (IDPATHWAY))
CREATE TABLE uoc_question (IDUOCQUESTION BIGINT NOT NULL, questionid BIGINT, uocid BIGINT, PRIMARY KEY (IDUOCQUESTION))
CREATE TABLE surveryanswer (uocquestionid INTEGER NOT NULL, surveyid INTEGER NOT NULL, answeredat VARCHAR(255), VALUE VARCHAR(255), PRIMARY KEY (uocquestionid, surveyid))
CREATE TABLE SURVEY (IDSURVEY BIGINT NOT NULL, completedat DATE, startedat DATE, dapsscoid BIGINT, individualid BIGINT, pathwayid BIGINT, PRIMARY KEY (IDSURVEY))
CREATE TABLE dapssco (IDDEPSSCO BIGINT AUTO_INCREMENT NOT NULL, levelid BIGINT, occupationid BIGINT, PRIMARY KEY (IDDEPSSCO))
CREATE TABLE INDIVIDUAL (idindividual BIGINT AUTO_INCREMENT NOT NULL, GENDER VARCHAR(255), LOGIN VARCHAR(255), NAME VARCHAR(255), PASSWORD VARCHAR(255), departmentid BIGINT NOT NULL, functionid BIGINT NOT NULL, level BIGINT NOT NULL, occupation BIGINT NOT NULL, PRIMARY KEY (idindividual))
CREATE TABLE dapsscolevel (levelid BIGINT NOT NULL, depsscoid BIGINT NOT NULL, dapsscoid BIGINT NOT NULL, PRIMARY KEY (levelid, depsscoid, dapsscoid))
CREATE TABLE dapsscoskills (uocgroupid BIGINT NOT NULL, depsscoid BIGINT NOT NULL, uocgroupidp BIGINT NOT NULL, PRIMARY KEY (uocgroupid, depsscoid, uocgroupidp))
CREATE TABLE uocgroupmembers (uocgroupid BIGINT NOT NULL, uocid BIGINT NOT NULL, PRIMARY KEY (uocgroupid, uocid))
CREATE TABLE uocgroup (IDUOCGROUP BIGINT NOT NULL, NOTES VARCHAR(255), NEED_ID BIGINT, pathway_id BIGINT, PRIMARY KEY (IDUOCGROUP))
CREATE TABLE supervisons (supervisorid BIGINT NOT NULL, supervisedid BIGINT NOT NULL, PRIMARY KEY (supervisorid, supervisedid))
CREATE TABLE claimassignment (claimid BIGINT NOT NULL, roleid BIGINT NOT NULL, PRIMARY KEY (claimid, roleid))
CREATE TABLE functionoccupations (occupationid BIGINT NOT NULL, functionid BIGINT NOT NULL, PRIMARY KEY (occupationid, functionid))
CREATE TABLE NEED (IDNEED BIGINT NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255), PRIMARY KEY (IDNEED))
ALTER TABLE roleassignment ADD CONSTRAINT FK_roleassignment_individualid FOREIGN KEY (individualid) REFERENCES INDIVIDUAL (idindividual)
ALTER TABLE roleassignment ADD CONSTRAINT FK_roleassignment_roleid FOREIGN KEY (roleid) REFERENCES ROLE (IDROLE)
ALTER TABLE uoc_question ADD CONSTRAINT FK_uoc_question_uocid FOREIGN KEY (uocid) REFERENCES UOC (IDUOC)
ALTER TABLE uoc_question ADD CONSTRAINT FK_uoc_question_questionid FOREIGN KEY (questionid) REFERENCES QUESTION (IDQUESTION)
ALTER TABLE surveryanswer ADD CONSTRAINT FK_surveryanswer_surveyid FOREIGN KEY (surveyid) REFERENCES SURVEY (IDSURVEY)
ALTER TABLE surveryanswer ADD CONSTRAINT FK_surveryanswer_uocquestionid FOREIGN KEY (uocquestionid) REFERENCES uoc_question (IDUOCQUESTION)
ALTER TABLE SURVEY ADD CONSTRAINT FK_SURVEY_individualid FOREIGN KEY (individualid) REFERENCES INDIVIDUAL (idindividual)
ALTER TABLE SURVEY ADD CONSTRAINT FK_SURVEY_dapsscoid FOREIGN KEY (dapsscoid) REFERENCES dapssco (IDDEPSSCO)
ALTER TABLE SURVEY ADD CONSTRAINT FK_SURVEY_pathwayid FOREIGN KEY (pathwayid) REFERENCES PATHWAY (IDPATHWAY)
ALTER TABLE dapssco ADD CONSTRAINT FK_dapssco_occupationid FOREIGN KEY (occupationid) REFERENCES OCCUPATION (IDOCCUPATION)
ALTER TABLE INDIVIDUAL ADD CONSTRAINT FK_INDIVIDUAL_departmentid FOREIGN KEY (departmentid) REFERENCES DEPARTMENT (IDDEPARTMENT)
ALTER TABLE INDIVIDUAL ADD CONSTRAINT FK_INDIVIDUAL_occupation FOREIGN KEY (occupation) REFERENCES OCCUPATION (IDOCCUPATION)
ALTER TABLE INDIVIDUAL ADD CONSTRAINT FK_INDIVIDUAL_level FOREIGN KEY (level) REFERENCES LEVEL (IDLEVEL)
ALTER TABLE INDIVIDUAL ADD CONSTRAINT FK_INDIVIDUAL_functionid FOREIGN KEY (functionid) REFERENCES functiontable (IDFUNCTION)
ALTER TABLE dapsscolevel ADD CONSTRAINT FK_dapsscolevel_depsscoid FOREIGN KEY (depsscoid) REFERENCES dapssco (IDDEPSSCO)
ALTER TABLE dapsscolevel ADD CONSTRAINT FK_dapsscolevel_levelid FOREIGN KEY (levelid) REFERENCES LEVEL (IDLEVEL)
ALTER TABLE dapsscolevel ADD CONSTRAINT FK_dapsscolevel_dapsscoid FOREIGN KEY (dapsscoid) REFERENCES dapssco (IDDEPSSCO)
ALTER TABLE dapsscoskills ADD CONSTRAINT FK_dapsscoskills_uocgroupidp FOREIGN KEY (uocgroupidp) REFERENCES uocgroup (IDUOCGROUP)
ALTER TABLE dapsscoskills ADD CONSTRAINT FK_dapsscoskills_depsscoid FOREIGN KEY (depsscoid) REFERENCES dapssco (IDDEPSSCO)
ALTER TABLE uocgroupmembers ADD CONSTRAINT FK_uocgroupmembers_uocid FOREIGN KEY (uocid) REFERENCES UOC (IDUOC)
ALTER TABLE uocgroupmembers ADD CONSTRAINT FK_uocgroupmembers_uocgroupid FOREIGN KEY (uocgroupid) REFERENCES uocgroup (IDUOCGROUP)
ALTER TABLE uocgroup ADD CONSTRAINT FK_uocgroup_pathway_id FOREIGN KEY (pathway_id) REFERENCES PATHWAY (IDPATHWAY)
ALTER TABLE uocgroup ADD CONSTRAINT FK_uocgroup_NEED_ID FOREIGN KEY (NEED_ID) REFERENCES NEED (IDNEED)
ALTER TABLE supervisons ADD CONSTRAINT FK_supervisons_supervisedid FOREIGN KEY (supervisedid) REFERENCES INDIVIDUAL (idindividual)
ALTER TABLE supervisons ADD CONSTRAINT FK_supervisons_supervisorid FOREIGN KEY (supervisorid) REFERENCES INDIVIDUAL (idindividual)
ALTER TABLE claimassignment ADD CONSTRAINT FK_claimassignment_claimid FOREIGN KEY (claimid) REFERENCES CLAIM (IDCLAIM)
ALTER TABLE claimassignment ADD CONSTRAINT FK_claimassignment_roleid FOREIGN KEY (roleid) REFERENCES ROLE (IDROLE)
ALTER TABLE functionoccupations ADD CONSTRAINT FK_functionoccupations_occupationid FOREIGN KEY (occupationid) REFERENCES OCCUPATION (IDOCCUPATION)
ALTER TABLE functionoccupations ADD CONSTRAINT FK_functionoccupations_functionid FOREIGN KEY (functionid) REFERENCES functiontable (IDFUNCTION)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
